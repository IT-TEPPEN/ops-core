# OpsCore

OpsCoreは、運用の中核を担うシステムである。

## 概要

OpsCoreは、GitHubやGitLabなどの外部リポジトリに保存された運用手順書（Markdownファイル）を集約し、Web上で閲覧できるようにするシステムです。運用者はこのシステムを通じて各種手順書やナレッジベースにアクセスし、日々の運用業務を実施します。

## 開発フェーズと機能

本プロジェクトは段階的に機能を実装していきます。

### Phase 1: 基本的なMarkdown閲覧機能（現在実装中）

Phase 1では、外部リポジトリからMarkdownファイルを取得・表示する基本機能を提供します。

#### 実装済み機能

1. **リポジトリ管理**
   - GitHubリポジトリの登録・一覧表示・削除
   - アクセストークンの設定・更新
   - リポジトリ情報の永続化（PostgreSQL）

2. **ファイル管理**
   - リポジトリからのMarkdownファイル一覧取得
   - 表示対象ファイルの選択・管理
   - 選択したファイルの保存

3. **Markdown表示**
   - 選択された複数のMarkdownファイルを統合して表示
   - ブログ形式での閲覧UI

4. **バックエンドアーキテクチャ**
   - Onion Architecture（ドメイン駆動設計）
   - Repository パターンによるデータアクセス
   - 依存性注入（Wire）
   - ロギング（zap）
   - データベースマイグレーション（golang-migrate）

5. **フロントエンド**
   - React + TypeScript
   - リポジトリ管理画面
   - ファイル選択画面
   - Markdown閲覧画面

#### Phase 1の残タスク

- アクセストークンの暗号化実装
- テストカバレッジの向上
- エラーハンドリングとユーザーフィードバックの改善
- ADRと実装の整合性確保

### Phase 2: 作業証跡と検索機能（計画中）

Phase 2では、運用業務の記録と効率化を支援する機能を追加します。

#### 計画中の機能

1. **ユーザー認証・認可**
   - ユーザー登録・ログイン機能
   - ロールベースアクセス制御（RBAC）
   - リポジトリごとのアクセス権限管理

2. **作業証跡管理**
   - 手順書の閲覧履歴記録
   - 作業実施ログの保存
   - 作業完了/未完了のステータス管理
   - 作業担当者の記録

3. **検索・フィルタリング**
   - 手順書のタイトル・タグによる検索
   - カテゴリ別フィルタリング
   - 最近閲覧した手順書の表示

4. **バージョン管理対応**
   - 特定のブランチ・タグからのファイル取得（`ref`パラメータ）
   - リリースバージョンごとの手順書表示

### Phase 3: AI連携と自動化（将来構想）

Phase 3では、生成AIを活用した高度な運用支援機能を提供します。

#### 構想中の機能

1. **生成AIとの連携**
   - 手順書の内容に基づいた質疑応答
   - 作業手順の要約生成
   - トラブルシューティング支援

2. **作業の自動化**
   - 定型作業の自動実行
   - チェックリスト形式での作業進捗管理
   - 作業完了の自動検証

3. **改善提案**
   - 作業ログの分析による改善点の提示
   - 頻繁に参照される手順書の最適化提案
   - 作業時間の傾向分析

## アーキテクチャ

詳細な設計判断については、`adr/`ディレクトリ内のArchitecture Decision Records（ADR）を参照してください。

### バックエンド

- 言語: Go
- アーキテクチャ: Onion Architecture
- データベース: PostgreSQL
- 主要ライブラリ: Echo（Webフレームワーク）、Wire（DI）、zap（ロギング）

### フロントエンド

- 言語: TypeScript
- フレームワーク: React
- ビルドツール: Vite

## セットアップ

開発環境のセットアップ方法や貢献ガイドラインについては、今後`CONTRIBUTING.md`に記載予定です。

### 必要な環境

- Go 1.21+
- Node.js 18+
- PostgreSQL 14+
- Docker & Docker Compose（開発環境）

### クイックスタート

```bash
# 開発環境の起動（Docker Compose）
docker-compose up -d

# バックエンドの起動
cd backend
go run cmd/server/main.go

# フロントエンドの起動
cd frontend
npm install
npm run dev
```

## ライセンス

TBD

